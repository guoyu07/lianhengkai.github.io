<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>推箱子-第四关</title>
<script type="text/javascript" src="js/public.js"></script>
<script type="text/javascript" src="js/box.js"></script>
<link rel="stylesheet" href="css/box.css">
<link rel="shortcut icon" href="images/box.ico" type="image/ico" />
<script type="text/javascript">
	//定义全局变量
	var map,box,person,ground,wall,endpoint;
	window.onload = function(){
		//实例化地图类
		map = new Map(600,600);
		map.show();
		
		//定义地形参数
		var groundBody = [[2,2],[3,2],[4,2],[5,2],[6,2],[7,2],[8,2],
						  [2,3],[3,3],[4,3],[5,3],[6,3],[7,3],[8,3],
						  [5,4],[6,4],[7,4],[8,4],[5,5],[6,5],[7,5],[8,5],
						  [5,6],[6,6],[7,6],[8,6],[9,6],
						  [2,7],[3,7],[4,7],[5,7],[6,7],[9,7],
						  [2,8],[3,8],[4,8],[5,8],[6,8],[9,8],[10,8],[11,8],[12,8],
						  [2,9],[3,9],[4,9],[5,9],[6,9],[7,9],[8,9],[9,9],[10,9],[11,9],[12,9],
						  [2,10],[6,10],[10,10],[11,10],[12,10],
						  [2,11],[6,11],[7,11],[8,11],[9,11],[10,11]];
		//实例化地形类
		ground = new Ground(40,40,groundBody);
		ground.show();
		
		//定义墙参数
		var wallBody = [[1,1],[2,1],[3,1],[4,1],[5,1],[6,1],[7,1],[8,1],[9,1],
						[1,2],[9,2],[1,3],[9,3],[1,4],[2,4],[3,4],[4,4],[9,4],
						[4,5],[9,5],[10,5],[1,6],[2,6],[3,6],[4,6],[10,6],
						[1,7],[7,7],[8,7],[10,7],[11,7],[12,7],[13,7],
						[1,8],[7,8],[8,8],[13,8],[1,9],[13,9],
						[1,10],[3,10],[4,10],[5,10],[7,10],[8,10],[9,10],[11,10],[13,10],
						[1,11],[3,11],[4,11],[5,11],[11,11],[12,11],[13,11],
						[1,12],[2,12],[3,12],[4,12],[5,12],[6,12],[7,12],[8,12],[9,12],[10,12],[11,12]];
		//实例化墙类
		wall = new Wall(40,40,wallBody);
		wall.show();
		
		//定义箱子参数
		var endponitBody = [[2,7],[3,7],[2,8],[3,8],
							[2,9],[3,9],[2,10],[2,11]];
		//实例化箱子类
		endpoint = new EndPoint(40,40,endponitBody);
		endpoint.show();
		
		//定义箱子参数
		var boxBody = [[4,3,null,false],
					   [8,3,null,false],
					   [6,5,null,false],
					   [8,6,null,false],
					   [5,7,null,false],
					   [6,8,null,false],
					   [8,9,null,false],
					   [6,10,null,false]];
		//实例化箱子类
		box = new Box(40,40,boxBody);
		box.show();
		
		//定义人参数
		var personBody = [12,9];
		//实例化人类
		person = new Person(40,40,personBody);
		person.show();
		
		//定义方向键上下左右按下事件
		document.onkeydown = function(e){
			var code = e.keyCode || event.keyCode;
			person.setDirect(code);
		}
	}
</script>
</head>
<body>
<div id="map">
	
</div>
</body>
</html>